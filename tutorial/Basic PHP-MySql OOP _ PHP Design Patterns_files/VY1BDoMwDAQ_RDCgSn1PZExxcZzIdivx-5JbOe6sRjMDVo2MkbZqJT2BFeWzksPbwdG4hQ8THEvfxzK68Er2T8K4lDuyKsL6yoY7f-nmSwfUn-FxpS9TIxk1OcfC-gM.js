(function($){if(typeof _wpcf7=='undefined'||_wpcf7===null){_wpcf7={};}
_wpcf7=$.extend({cached:0},_wpcf7);$.fn.wpcf7InitForm=function(){this.ajaxForm({beforeSubmit:function(arr,$form,options){$form.wpcf7ClearResponseOutput();$form.find('[aria-invalid]').attr('aria-invalid','false');$form.find('img.ajax-loader').css({visibility:'visible'});return true;},beforeSerialize:function($form,options){$form.find('[placeholder].placeheld').each(function(i,n){$(n).val('');});return true;},data:{'_wpcf7_is_ajax_call':1},dataType:'json',success:$.wpcf7AjaxSuccess,error:function(xhr,status,error,$form){var e=$('<div class="ajax-error"></div>').text(error.message);$form.after(e);}});if(_wpcf7.cached){this.wpcf7OnloadRefill();}
this.wpcf7ToggleSubmit();this.find('.wpcf7-submit').wpcf7AjaxLoader();this.find('.wpcf7-acceptance').click(function(){$(this).closest('form').wpcf7ToggleSubmit();});this.find('.wpcf7-exclusive-checkbox').wpcf7ExclusiveCheckbox();this.find('.wpcf7-list-item.has-free-text').wpcf7ToggleCheckboxFreetext();this.find('[placeholder]').wpcf7Placeholder();if(_wpcf7.jqueryUi&&!_wpcf7.supportHtml5.date){this.find('input.wpcf7-date[type="date"]').each(function(){$(this).datepicker({dateFormat:'yy-mm-dd',minDate:new Date($(this).attr('min')),maxDate:new Date($(this).attr('max'))});});}
if(_wpcf7.jqueryUi&&!_wpcf7.supportHtml5.number){this.find('input.wpcf7-number[type="number"]').each(function(){$(this).spinner({min:$(this).attr('min'),max:$(this).attr('max'),step:$(this).attr('step')});});}
this.find('.wpcf7-character-count').wpcf7CharacterCount();this.find('.wpcf7-validates-as-url').change(function(){$(this).wpcf7NormalizeUrl();});};$.wpcf7AjaxSuccess=function(data,status,xhr,$form){if(!$.isPlainObject(data)||$.isEmptyObject(data)){return;}
var $responseOutput=$form.find('div.wpcf7-response-output');$form.wpcf7ClearResponseOutput();$form.find('.wpcf7-form-control').removeClass('wpcf7-not-valid');$form.removeClass('invalid spam sent failed');if(data.captcha){$form.wpcf7RefillCaptcha(data.captcha);}
if(data.quiz){$form.wpcf7RefillQuiz(data.quiz);}
if(data.invalids){$.each(data.invalids,function(i,n){$form.find(n.into).wpcf7NotValidTip(n.message);$form.find(n.into).find('.wpcf7-form-control').addClass('wpcf7-not-valid');$form.find(n.into).find('[aria-invalid]').attr('aria-invalid','true');});$responseOutput.addClass('wpcf7-validation-errors');$form.addClass('invalid');$(data.into).trigger('wpcf7:invalid');$(data.into).trigger('invalid.wpcf7');}else if(1==data.spam){$responseOutput.addClass('wpcf7-spam-blocked');$form.addClass('spam');$(data.into).trigger('wpcf7:spam');$(data.into).trigger('spam.wpcf7');}else if(1==data.mailSent){$responseOutput.addClass('wpcf7-mail-sent-ok');$form.addClass('sent');if(data.onSentOk){$.each(data.onSentOk,function(i,n){eval(n)});}
$(data.into).trigger('wpcf7:mailsent');$(data.into).trigger('mailsent.wpcf7');}else{$responseOutput.addClass('wpcf7-mail-sent-ng');$form.addClass('failed');$(data.into).trigger('wpcf7:mailfailed');$(data.into).trigger('mailfailed.wpcf7');}
if(data.onSubmit){$.each(data.onSubmit,function(i,n){eval(n)});}
$(data.into).trigger('wpcf7:submit');$(data.into).trigger('submit.wpcf7');if(1==data.mailSent){$form.resetForm();}
$form.find('[placeholder].placeheld').each(function(i,n){$(n).val($(n).attr('placeholder'));});$responseOutput.append(data.message).slideDown('fast');$responseOutput.attr('role','alert');$.wpcf7UpdateScreenReaderResponse($form,data);};$.fn.wpcf7ExclusiveCheckbox=function(){return this.find('input:checkbox').click(function(){var name=$(this).attr('name');$(this).closest('form').find('input:checkbox[name="'+name+'"]').not(this).prop('checked',false);});};$.fn.wpcf7Placeholder=function(){if(_wpcf7.supportHtml5.placeholder){return this;}
return this.each(function(){$(this).val($(this).attr('placeholder'));$(this).addClass('placeheld');$(this).focus(function(){if($(this).hasClass('placeheld'))
$(this).val('').removeClass('placeheld');});$(this).blur(function(){if(''==$(this).val()){$(this).val($(this).attr('placeholder'));$(this).addClass('placeheld');}});});};$.fn.wpcf7AjaxLoader=function(){return this.each(function(){var loader=$('<img class="ajax-loader" />').attr({src:_wpcf7.loaderUrl,alt:_wpcf7.sending}).css('visibility','hidden');$(this).after(loader);});};$.fn.wpcf7ToggleSubmit=function(){return this.each(function(){var form=$(this);if(this.tagName.toLowerCase()!='form'){form=$(this).find('form').first();}
if(form.hasClass('wpcf7-acceptance-as-validation')){return;}
var submit=form.find('input:submit');if(!submit.length)return;var acceptances=form.find('input:checkbox.wpcf7-acceptance');if(!acceptances.length)return;submit.removeAttr('disabled');acceptances.each(function(i,n){n=$(n);if(n.hasClass('wpcf7-invert')&&n.is(':checked')||!n.hasClass('wpcf7-invert')&&!n.is(':checked')){submit.attr('disabled','disabled');}});});};$.fn.wpcf7ToggleCheckboxFreetext=function(){return this.each(function(){var $wrap=$(this).closest('.wpcf7-form-control');if($(this).find(':checkbox, :radio').is(':checked')){$(this).find(':input.wpcf7-free-text').prop('disabled',false);}else{$(this).find(':input.wpcf7-free-text').prop('disabled',true);}
$wrap.find(':checkbox, :radio').change(function(){var $cb=$('.has-free-text',$wrap).find(':checkbox, :radio');var $freetext=$(':input.wpcf7-free-text',$wrap);if($cb.is(':checked')){$freetext.prop('disabled',false).focus();}else{$freetext.prop('disabled',true);}});});};$.fn.wpcf7CharacterCount=function(){return this.each(function(){var $count=$(this);var name=$count.attr('data-target-name');var down=$count.hasClass('down');var starting=parseInt($count.attr('data-starting-value'),10);var maximum=parseInt($count.attr('data-maximum-value'),10);var minimum=parseInt($count.attr('data-minimum-value'),10);var updateCount=function($target){var length=$target.val().length;var count=down?starting-length:length;$count.attr('data-current-value',count);$count.text(count);if(maximum&&maximum<length){$count.addClass('too-long');}else{$count.removeClass('too-long');}
if(minimum&&length<minimum){$count.addClass('too-short');}else{$count.removeClass('too-short');}};$count.closest('form').find(':input[name="'+name+'"]').each(function(){updateCount($(this));$(this).keyup(function(){updateCount($(this));});});});};$.fn.wpcf7NormalizeUrl=function(){return this.each(function(){var val=$.trim($(this).val());if(val&&!val.match(/^[a-z][a-z0-9.+-]*:/i)){val=val.replace(/^\/+/,'');val='http://'+val;}
$(this).val(val);});};$.fn.wpcf7NotValidTip=function(message){return this.each(function(){var $into=$(this);$into.find('span.wpcf7-not-valid-tip').remove();$into.append('<span role="alert" class="wpcf7-not-valid-tip">'+message+'</span>');if($into.is('.use-floating-validation-tip *')){$('.wpcf7-not-valid-tip',$into).mouseover(function(){$(this).wpcf7FadeOut();});$(':input',$into).focus(function(){$('.wpcf7-not-valid-tip',$into).not(':hidden').wpcf7FadeOut();});}});};$.fn.wpcf7FadeOut=function(){return this.each(function(){$(this).animate({opacity:0},'fast',function(){$(this).css({'z-index':-100});});});};$.fn.wpcf7OnloadRefill=function(){return this.each(function(){var url=$(this).attr('action');if(0<url.indexOf('#')){url=url.substr(0,url.indexOf('#'));}
var id=$(this).find('input[name="_wpcf7"]').val();var unitTag=$(this).find('input[name="_wpcf7_unit_tag"]').val();$.getJSON(url,{_wpcf7_is_ajax_call:1,_wpcf7:id,_wpcf7_request_ver:$.now()},function(data){if(data&&data.captcha){$('#'+unitTag).wpcf7RefillCaptcha(data.captcha);}
if(data&&data.quiz){$('#'+unitTag).wpcf7RefillQuiz(data.quiz);}});});};$.fn.wpcf7RefillCaptcha=function(captcha){return this.each(function(){var form=$(this);$.each(captcha,function(i,n){form.find(':input[name="'+i+'"]').clearFields();form.find('img.wpcf7-captcha-'+i).attr('src',n);var match=/([0-9]+)\.(png|gif|jpeg)$/.exec(n);form.find('input:hidden[name="_wpcf7_captcha_challenge_'+i+'"]').attr('value',match[1]);});});};$.fn.wpcf7RefillQuiz=function(quiz){return this.each(function(){var form=$(this);$.each(quiz,function(i,n){form.find(':input[name="'+i+'"]').clearFields();form.find(':input[name="'+i+'"]').siblings('span.wpcf7-quiz-label').text(n[0]);form.find('input:hidden[name="_wpcf7_quiz_answer_'+i+'"]').attr('value',n[1]);});});};$.fn.wpcf7ClearResponseOutput=function(){return this.each(function(){$(this).find('div.wpcf7-response-output').hide().empty().removeClass('wpcf7-mail-sent-ok wpcf7-mail-sent-ng wpcf7-validation-errors wpcf7-spam-blocked').removeAttr('role');$(this).find('span.wpcf7-not-valid-tip').remove();$(this).find('img.ajax-loader').css({visibility:'hidden'});});};$.wpcf7UpdateScreenReaderResponse=function($form,data){$('.wpcf7 .screen-reader-response').html('').attr('role','');if(data.message){var $response=$form.siblings('.screen-reader-response').first();$response.append(data.message);if(data.invalids){var $invalids=$('<ul></ul>');$.each(data.invalids,function(i,n){if(n.idref){var $li=$('<li></li>').append($('<a></a>').attr('href','#'+n.idref).append(n.message));}else{var $li=$('<li></li>').append(n.message);}
$invalids.append($li);});$response.append($invalids);}
$response.attr('role','alert').focus();}};$.wpcf7SupportHtml5=function(){var features={};var input=document.createElement('input');features.placeholder='placeholder'in input;var inputTypes=['email','url','tel','number','range','date'];$.each(inputTypes,function(index,value){input.setAttribute('type',value);features[value]=input.type!=='text';});return features;};$(function(){_wpcf7.supportHtml5=$.wpcf7SupportHtml5();$('div.wpcf7 > form').wpcf7InitForm();});})(jQuery);;function K2Slider(handle,track,options){var self=this;this.handle=jQuery(handle);this.track=jQuery(track);this.options=options||{};this.value=this.options.value||0;this.maximum=this.options.maximum||1;this.minimum=this.options.minimum||0;this.trackLength=this.track.width();this.handleLength=this.handle.width();this.handle.css('position','absolute');this.active=false;this.dragging=false;this.setValue(this.value);this.handle.mousedown(function(event){self.active=true;var pointer=self.pointerX(event);var offset=self.track.offset();self.setValue(self.translateToValue(pointer-offset.left-(self.handleLength/2)));var offset=self.handle.offset();self.offsetX=(pointer-offset.left);});this.track.mousedown(function(event){var offset=self.track.offset();var pointer=self.pointerX(event);self.setValue(self.translateToValue(pointer-offset.left-(self.handleLength/2)));});jQuery(document).mouseup(function(event){if(self.active&&self.dragging){self.active=false;self.dragging=false;self.updateFinished(self);}
self.active=false;self.dragging=false;});jQuery(document).mousemove(function(event){if(self.active){if(!self.dragging)self.dragging=true;self.draw(event);if(navigator.appVersion.indexOf('AppleWebKit')>0)window.scrollBy(0,0);}});this.initialized=true;};K2Slider.prototype.getNearestValue=function(value){if(value>this.maximum)return this.maximum;if(value<this.minimum)return this.minimum;return value;};K2Slider.prototype.setValue=function(value){this.value=this.getNearestValue(value);this.handle.css('left',this.translateToPx(this.value));if(!this.dragging||!this.event)this.updateFinished(this);};K2Slider.prototype.setValueBy=function(delta){this.setValue(this.value+delta);};K2Slider.prototype.translateToPx=function(value){return Math.round(((this.trackLength-this.handleLength)/(this.maximum-this.minimum))*(value-this.minimum))+"px";};K2Slider.prototype.translateToValue=function(offset){return Math.round(((offset/(this.trackLength-this.handleLength)*(this.maximum-this.minimum))+this.minimum));};K2Slider.prototype.draw=function(event){var pointer=this.pointerX(event);var offset=this.track.offset();pointer-=this.offsetX+offset.left;this.event=event;this.setValue(this.translateToValue(pointer));if(this.initialized&&this.options.onSlide)
this.options.onSlide(this.value);};K2Slider.prototype.updateFinished=function(self){if(self.initialized&&self.options.onChange)
self.options.onChange(self.value);self.event=null;};K2Slider.prototype.pointerX=function(event){return event.pageX||(event.clientX+
(document.documentElement.scrollLeft||document.body.scrollLeft));};K2Slider.prototype.isLeftClick=function(event){return(((event.which)&&(event.which==1))||((event.button)&&(event.button==1)));};;function TextTrimmer(value){var self=this;this.minValue=0;this.maxValue=100;this.chunks=false;this.prevValue=0;if(value>=this.maxValue){this.curValue=this.maxValue;}else if(value<this.minValue){this.curValue=this.minValue;}else{this.curValue=value;}
this.slider=new K2Slider('#trimmerhandle','#trimmertrack',{minimum:0,maximum:10,value:10,onSlide:function(x){self.doTrim(x*10);},onChange:function(x){self.doTrim(x*10);}});jQuery('#trimmermore').click(function(){self.slider.setValueBy(1);return false;});jQuery('#trimmerless').click(function(){self.slider.setValueBy(-1);return false;});jQuery('#trimmertrim').click(function(){self.slider.setValue(self.minValue);return false;});jQuery('#trimmeruntrim').click(function(){self.slider.setValue(self.maxValue);return false;});};TextTrimmer.prototype.trimAgain=function(){this.loadChunks();this.doTrim(this.curValue);};TextTrimmer.prototype.loadChunks=function(){var everything=jQuery('#dynamic-content .entry-content');this.chunks=[];for(i=0;i<everything.length;i++){this.chunks.push({ref:everything[i],html:jQuery(everything[i]).html(),text:jQuery.trim(jQuery(everything[i]).text())});}};TextTrimmer.prototype.doTrim=function(interval){if(!this.chunks)
this.loadChunks();this.curValue=interval;for(i=0;i<this.chunks.length;i++){if(interval==this.maxValue){jQuery(this.chunks[i].ref).html(this.chunks[i].html);}else if(interval==this.minValue){jQuery(this.chunks[i].ref).html('');}else{var a=this.chunks[i].text.split(' ');a=a.slice(0,Math.round(interval*a.length/100));jQuery(this.chunks[i].ref).html('<p>'+a.join(' ')+'&nbsp;[...]</p>');}}
if(this.curValue!=this.maxValue){jQuery('#dynamic-content').addClass("trimmed");}else{jQuery('#dynamic-content').removeClass("trimmed");}};;function RollingArchives(pagetext){this.pageText=pagetext;this.active=false;};RollingArchives.prototype.setState=function(pagenumber,pagecount,query,pagedates){var self=this;this.pageNumber=pagenumber;this.pageCount=pagecount;this.query=query;this.pageDates=pagedates;jQuery('body').addClass('showrollingarchives');if(this.validatePage(pagenumber)){jQuery('#rollingarchives').show();jQuery('#rollload').hide();jQuery('#rollhover').hide();this.pageSlider=new K2Slider('#pagehandle','#pagetrackwrap',{minimum:1,maximum:self.pageCount,value:self.pageCount-self.pageNumber+1,onSlide:function(value){jQuery('#rollhover').show();self.updatePageText(self.pageCount-value+1);},onChange:function(value){self.updatePageText(self.pageCount-value+1);self.gotoPage(self.pageCount-value+1);}});jQuery('#rollnext').click(function(){self.pageSlider.setValueBy(1);return false;});jQuery('#rollprevious').click(function(){self.pageSlider.setValueBy(-1);return false;});jQuery('#rollhome').click(function(){self.pageSlider.setValue(self.pageCount);self.validatePage(1);return false;});this.updatePageText(this.pageNumber);this.trimmer=new TextTrimmer(100);this.active=true;}else{jQuery('body').addClass('hiderollingarchives');}};RollingArchives.prototype.saveState=function(){this.prevQuery=this.query;};RollingArchives.prototype.restoreState=function(){if(this.prevQuery!=null){var query=jQuery.extend(this.prevQuery,{k2dynamic:'init'});K2.ajaxGet(query,function(data){jQuery('#dynamic-content').html(data);});}};RollingArchives.prototype.updatePageText=function(page){jQuery('#rollpages').html((this.pageText.replace('%1$d',page)).replace('%2$d',this.pageCount));jQuery('#rolldates').html(this.pageDates[page-1]);};RollingArchives.prototype.validatePage=function(newpage){if(this.pageCount>1){if(newpage>=this.pageCount){jQuery('#dynamic-content').removeClass('onepageonly firstpage nthpage').addClass('lastpage');return this.pageCount;}else if(newpage<=1){jQuery('#dynamic-content').removeClass('onepageonly nthpage lastpage').addClass('firstpage');return 1;}else{jQuery('#dynamic-content').removeClass('onepageonly firstpage lastpage').addClass('nthpage');return newpage;}}
jQuery('#dynamic-content').removeClass('firstpage nthpage lastpage').addClass('onepageonly');return 0;};RollingArchives.prototype.gotoPage=function(newpage){var self=this;var page=this.validatePage(newpage);if((page!=this.pageNumber)&&(page>0)){this.pageNumber=page;jQuery('#rollload').fadeIn('fast');jQuery.extend(this.query,{paged:this.pageNumber,k2dynamic:1});K2.ajaxGet(this.query,function(data){jQuery('#rollhover').fadeOut('slow');jQuery('#rollload').fadeOut('fast');jQuery('#rollingcontent').html(data);self.trimmer.trimAgain();});}
if(page==1)
this.trimmer.slider.setValue(100);};;function LiveSearch(searchprompt){var self=this;jQuery('#search-form-wrap').addClass('livesearch');this.searchPrompt=searchprompt;this.searchform=jQuery('#searchform');this.searchField=jQuery('#s');this.reset=jQuery('#searchreset');this.loading=jQuery('#searchload');this.searchLabel=jQuery('#search-label');jQuery('#searchsubmit').addClass('hidden');this.searchLabel.empty().text(searchprompt).addClass('overlabel-apply');this.searchField.focus(function(){self.searchLabel.addClass('fade');}).blur(function(){if(self.searchField.val()==''){self.searchLabel.show().removeClass('fade');if(self.prevSearch!=''){self.resetSearch(self);}}}).keydown(function(event){if(self.searchField.val()==''){self.searchLabel.show();if(self.prevSearch!=''){self.resetSearch(self);}}
var code=event.keyCode;if(code==27){self.resetSearch(self);}else if(code!=13&&code!=9){self.searchLabel.addClass('hide')
if(self.timer){clearTimeout(self.timer);}
self.timer=setTimeout(function(){self.doSearch(self);},500);}}).keyup(function(event){var code=event.keyCode;if(code!=13){if(self.searchField.val()==''){self.resetSearch(self);clearTimeout(self.timer);}else{self.reset.fadeTo('fast',0);self.loading.fadeTo('fast',1);}}});if(this.searchField.val()!=''){this.doSearch(self);this.searchLabel.addClass('hide');}
self.loading.fadeTo('fast',0);self.reset.fadeTo('fast',0);};LiveSearch.prototype.doSearch=function(self){if(self.searchField.val()==self.prevSearch)return;if(!self.active){self.active=true;if(typeof K2.RollingArchives!='undefined'&&K2.RollingArchives.saveState){K2.RollingArchives.saveState();}}
self.prevSearch=self.searchField.val();K2.ajaxGet(self.searchform.serialize()+'&k2dynamic=init',function(data){jQuery('#current-content').hide();jQuery('#dynamic-content').html(data).show();self.loading.fadeTo('fast',0);self.reset.click(function(){self.resetSearch(self);}).fadeTo('fast',1.0).css('cursor','pointer');});};LiveSearch.prototype.resetSearch=function(self){self.active=false;self.prevSearch='';self.searchField.val('');self.searchLabel.removeClass('hide');self.loading.fadeTo('fast',0);self.reset.unbind('click').fadeTo('fast',0).css('cursor','default');if(jQuery('#current-content').length){jQuery('#dynamic-content').hide().html('');jQuery('#current-content').show();}
if(typeof K2.RollingArchives!='undefined'&&K2.RollingArchives.restoreState){K2.RollingArchives.restoreState();}};;var addComment={moveForm:function(a,b,c,d){var e,f=this,g=f.I(a),h=f.I(c),i=f.I("cancel-comment-reply-link"),j=f.I("comment_parent"),k=f.I("comment_post_ID");if(g&&h&&i&&j){f.respondId=c,d=d||!1,f.I("wp-temp-form-div")||(e=document.createElement("div"),e.id="wp-temp-form-div",e.style.display="none",h.parentNode.insertBefore(e,h)),g.parentNode.insertBefore(h,g.nextSibling),k&&d&&(k.value=d),j.value=b,i.style.display="",i.onclick=function(){var a=addComment,b=a.I("wp-temp-form-div"),c=a.I(a.respondId);if(b&&c)return a.I("comment_parent").value="0",b.parentNode.insertBefore(c,b),b.parentNode.removeChild(b),this.style.display="none",this.onclick=null,!1};try{f.I("comment").focus()}catch(l){}return!1}},I:function(a){return document.getElementById(a)}};